function elevationOverride(lat, lon)
{
var e = -1000000;
//e = elevationOverride_AugustaNational	(lat, lon); if (e > -9999) return e;
//e = elevationOverride_PebbleBeach	(lat, lon); if (e > -9999) return e;
e = elevationOverride_Seminole		(lat, lon); if (e > -9999) return e;
e = elevationOverride_StAndrews		(lat, lon); if (e > -9999) return e;
e = elevationOverride_TheBelfry		(lat, lon); if (e > -9999) return e;
//e = elevationOverride_Oddur		(lat, lon); if (e > -9999) return e;
return e;
}

function elevHole(lat,lon,teLat,teLon,piLat,piLon,t1Lat,t1Lon,t2Lat,t2Lon,t3Lat,t3Lon,teH,t1H,t2H,t3H,piH,teW,t1W,t2W,t3W,piW)
{
// Approach
if      (t3Lat != 0 || t3Lon != 0) { e = elevWedge(lat,lon,t3Lat,t3Lon,piLat,piLon,t3W,t3W,piW,piW,t3H,piH,0,0); if (e > -9999) return e; }
else if (t2Lat != 0 || t2Lon != 0) { e = elevWedge(lat,lon,t2Lat,t2Lon,piLat,piLon,t2W,t2W,piW,piW,t2H,piH,0,0); if (e > -9999) return e; }
else if (t1Lat != 0 || t1Lon != 0) { e = elevWedge(lat,lon,t1Lat,t1Lon,piLat,piLon,t1W,t1W,piW,piW,t1H,piH,0,0); if (e > -9999) return e; }
else                               { e = elevWedge(lat,lon,teLat,teLon,piLat,piLon,teW,teW,piW,piW,teH,piH,0,0); if (e > -9999) return e; }
// T2 to T3 
if      (t3Lat != 0 || t3Lon != 0) { e = elevWedge(lat,lon,t2Lat,t2Lon,t3Lat,t3Lon,t2W,t2W,t3W,t3W,t2H,t3H,0,0); if (e > -9999) return e; }
// T1 to T2 
if      (t2Lat != 0 || t2Lon != 0) { e = elevWedge(lat,lon,t1Lat,t1Lon,t2Lat,t2Lon,t1W,t1W,t2W,t2W,t1H,t2H,0,0); if (e > -9999) return e; }
// Tee to T1 
if      (t1Lat != 0 || t1Lon != 0) { e = elevWedge(lat,lon,teLat,teLon,t1Lat,t1Lon,teW,teW,t1W,t1W,teH,t1H,0,0); if (e > -9999) return e; }
}

function elevWedge(lat, lon, lat1, lon1, lat2, lon2, r1, w1, r2, w2, e1, e2, g1, g2)
{
var d = geogDist(lat1, lon1, lat2, lon2);
var d1 = geogDist(lat1, lon1, lat, lon);
if (d1 > d + r2) return -1000000;
if (d1 < r1) return e1;
var d2 = geogDist(lat2, lon2, lat, lon);
if (d2 > d + r1) return -1000000;
if (d2 < r2) return e2;
var b1 = geogBearing(lat1, lon1, lat, lon);
var b2 = geogBearing(lat1, lon1, lat2, lon2);
while (b2 < b1 - 180) b2 += 360;
while (b2 > b1 + 180) b2 -= 360;
var theta = Math.PI*(b1-b2)/180;
var forward = d1 * Math.cos(theta);
var right = d1 * Math.sin(theta);
var t = forward/d;
var w = w1 + t*(w2-w1);
if (right > w || right < -w) return -1000000;
if (right < 0) return e1 + t*(e2-e1) - right*g1;
return e1 + t*(e2-e1) + right*g2;
}

function elevationOverride_AugustaNational(lat, lon)
{
if (lat > 33.4931 && lat < 33.505312 && lon > -82.02999 && lon < -82.015008)
{
var e;
e = elevHole(lat,lon,33.502388,-82.019927,33.504482,-82.023501,33.503528,-82.022439,0,0,0,0,95,95,0,0,99,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.50478,-82.024196,33.500367,-82.023501,33.502481,-82.024739,33.500701,-82.023972,0,0,98,87,71,0,71,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.499798,-82.023421,33.501688,-82.025996,33.501278,-82.025663,0,0,0,0,71,74,0,0,76,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.502016,-82.025609,33.501837,-82.027977,0,0,0,0,0,0,81,0,0,0,71,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.50222,-82.028508,33.498356,-82.027437,33.499671,-82.028467,0,0,0,0,74,76,0,0,75,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.498837,-82.027283,33.500334,-82.026857,0,0,0,0,0,0,74,0,0,0,67,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.500927,-82.027421,33.499485,-82.02333,33.500005,-82.024784,0,0,0,0,69,68,0,0,74,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.499244,-82.022397,33.503726,-82.023697,33.501513,-82.023279,33.50324,-82.023323,0,0,76,77,93,0,95,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.504484,-82.024082,33.50229,-82.020642,33.502516,-82.02214,0,0,0,0,98,85,0,0,90,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.502004,-82.019836,33.498052,-82.020413,33.499499,-82.020626,0,0,0,0,95,69,0,0,64,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.498529,-82.019304,33.495203,-82.02218,33.496225,-82.020829,0,0,0,0,67,57,0,0,48,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.495606,-82.022401,33.494501,-82.02316,0,0,0,0,0,0,51,0,0,0,48,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.494036,-82.023583,33.497096,-82.025556,33.496172,-82.023472,33.49695,-82.024924,0,0,52,53,55,0,56,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.497541,-82.025637,33.497443,-82.021335,33.497201,-82.022807,0,0,0,0,58,65,0,0,67,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.497652,-82.020566,33.4989,-82.025579,33.498258,-82.023433,33.498623,-82.02495,0,0,67,70,63,0,63,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.498308,-82.025808,33.499593,-82.026474,0,0,0,0,0,0,61,0,0,0,62,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.49994,-82.02644,33.498775,-82.02215,33.499037,-82.023687,0,0,0,0,65,72,0,0,74,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,33.498325,-82.021679,33.501893,-82.020515,33.5007,-82.021428,0,0,0,0,72,79,0,0,90,20,40,40,40,30); if (e > -9999) return e;
}
return -1000000;
}

function elevationOverride_PebbleBeach(lat, lon)
{
if (lat > 36.55675449147182 && lat < 36.57175472137818 && lon > -121.95084374230117 && lon < -121.9279187108783)
{
var e;
e = elevHole(lat,lon,36.569353,-121.949534,36.570575,-121.946107,36.57054,-121.947635,0,0,0,0,20,23,0,0,26,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.570319,-121.947114,36.569516,-121.94192,36.569865,-121.944199,36.56962,-121.943115,0,0,23,20,21,0,23,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.569156,-121.9412,36.567427,-121.94451,36.56824,-121.943831,0,0,0,0,23,12,0,0,10,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.567352,-121.943907,36.56617,-121.940851,36.566435,-121.941558,0,0,0,0,8,11,0,0,14,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.56628,-121.940593,36.56502,-121.939317,0,0,0,0,0,0,15,0,0,0,13,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.566048,-121.937849,36.562139,-121.940028,36.563864,-121.939042,36.562429,-121.93981,0,0,25,10,19,0,20,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.562245,-121.940501,36.561328,-121.940352,0,0,0,0,0,0,17,0,0,0,9,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.561273,-121.940154,36.563059,-121.9365,36.562649,-121.938252,0,0,0,0,8,21,0,0,18,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.563407,-121.936627,36.560496,-121.933022,36.561787,-121.934178,0,0,0,0,22,19,0,0,12,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.561649,-121.933363,36.557934,-121.931424,36.559409,-121.931848,0,0,0,0,17,14,0,0,11,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.557825,-121.931092,36.560726,-121.929477,36.559878,-121.930187,0,0,0,0,12,28,0,0,33,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.560956,-121.928975,36.561473,-121.931044,0,0,0,0,0,0,37,0,0,0,29,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.561012,-121.930998,36.563094,-121.934779,36.56235,-121.933578,0,0,0,0,27,24,0,0,28,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.563027,-121.935258,36.567113,-121.937316,36.56449,-121.93727,36.566291,-121.937476,0,0,24,24,28,0,35,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.567157,-121.937038,36.569126,-121.940074,36.568574,-121.939098,0,0,0,0,39,28,0,0,26,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.569632,-121.939875,36.567811,-121.943248,36.568148,-121.941862,0,0,0,0,29,16,0,0,10,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.567335,-121.943986,36.565786,-121.944907,0,0,0,0,0,0,8,0,0,0,5,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,36.565535,-121.94511,36.567598,-121.94962,36.567218,-121.947213,36.567697,-121.948903,0,0,4,6,6,0,8,20,40,40,40,30); if (e > -9999) return e;
}
return -1000000;
}

function elevationOverride_Seminole(lat, lon)
{
if (lat > 26.85854961987871 && lat < 26.867621752738295 && lon > -80.0559315212307 && lon < -80.04606548644946)
{
var e;
e = elevHole(lat,lon,26.860303,-80.047822,26.862072,-80.050901,26.861306,-80.050247,0,0,0,0,0,0,0,0,0,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.861791,-80.051193,26.864373,-80.053196,26.863727,-80.052411,0,0,0,0,0,0,0,0,6,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.864524,-80.053444,26.860523,-80.054077,26.862153,-80.05268,26.860878,-80.053843,0,0,8,0,2,0,5,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.860364,-80.05437,26.864094,-80.053557,26.862742,-80.05383,0,0,0,0,8,7,0,0,9,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.864742,-80.053681,26.863167,-80.054284,0,0,0,0,0,0,8,0,0,0,7,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.863145,-80.054601,26.859844,-80.05473,26.86085,-80.054813,0,0,0,0,6,5,0,0,8,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.859595,-80.054599,26.861476,-80.051219,26.860955,-80.052403,0,0,0,0,8,0,0,0,0,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.861173,-80.051023,26.859922,-80.05279,0,0,0,0,0,0,0,0,0,0,1,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.859671,-80.053541,26.860115,-80.048493,26.859796,-80.050872,26.859804,-80.049074,0,0,0,0,0,0,1,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.860351,-80.047802,26.862829,-80.0506,26.862013,-80.049719,0,0,0,0,0,0,0,0,0,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.8629,-80.050019,26.865297,-80.053378,26.864362,-80.052247,0,0,0,0,0,0,0,0,7,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.865962,-80.053415,26.866331,-80.050096,26.866315,-80.051145,0,0,0,0,6,0,0,0,1,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.866577,-80.050154,26.866256,-80.048611,0,0,0,0,0,0,0,0,0,0,3,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.865973,-80.0482,26.865609,-80.052895,26.86567,-80.050758,26.865611,-80.052416,0,0,4,0,0,0,3,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.865454,-80.053208,26.862773,-80.049496,26.864784,-80.050547,26.86302,-80.049783,0,0,6,0,0,0,1,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,26.862584,-80.049082,26.865625,-80.048534,26.864658,-80.049433,0,0,0,0,0,0,0,0,2,20,40,40,40,20); if (e > -9999) return e;
e = elevHole(lat,lon,26.865743,-80.048282,26.864242,-80.048325,0,0,0,0,0,0,4,0,0,0,2,20,40,40,40,20); if (e > -9999) return e;
e = elevHole(lat,lon,26.864693,-80.048063,26.861258,-80.047267,26.862228,-80.048166,0,0,0,0,6,0,0,0,4,20,40,40,40,30); if (e > -9999) return e;
}
return -1000000;
}

function elevationOverride_StAndrews(lat, lon)
{
	if (lat > 56.342262 && lat < 56.361588 && lon > -2.827148 && lon < -2.801137)
	{
		// St Andrews Old Course
		var mLat = distToDeltaLat(1, lat, lon);
		var mLon = distToDeltaLon(1, lat, lon);
		var dLat = 10*mLat;
		var dLon = 10*mLon;
		var lat1 = lat - dLat;
		var lat2 = lat + dLat;
		var lon1 = lon - dLon;
		var lon2 = lon + dLon;
		var eLat;
		var eLon;
		var e;
		eLat = 56.343590; eLon = -2.802774; e = 6; // 1st Tee Back
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e;
		eLat = 56.343162; eLon = -2.808778; e = 7; // 17th Tee Front
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e;
		eLat = 56.343142; eLon = -2.808667; e = 7; // 17th Tee Middle
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e;
		eLat = 56.343114; eLon = -2.808504; e = 7; // 17th Tee Back
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e;
	}
	return -1000000;
}

function elevationOverride_TheBelfry(lat, lon)
{
	if (lat > 52.553861 && lat < 52.563607 && lon > -1.743084 && lon < -1.729285)
	{
		var mLat = distToDeltaLat(1, lat, lon);
		var mLon = distToDeltaLon(1, lat, lon);
		var dLat = 50*mLat;
		var dLon = 50*mLon;
		var lat1 = lat - dLat;
		var lat2 = lat + dLat;
		var lon1 = lon - dLon;
		var lon2 = lon + dLon;
		var eLat;
		var eLon;
		var e;
		eLat = 52.555748; eLon = -1.734932; e = 81; // 9th Green
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e;
		eLat = 52.555171; eLon = -1.735409; e = 83; // 18th Green
		if (eLat >= lat1 && eLat <= lat2 && eLon >= lon1 && eLon <= lon2) return e - 10*(lat - eLat)/dLat;
	}
	return -1000000;
}

function elevationOverride_Oddur(lat, lon)
{
if (lat > 64.05494909036611 && lat < 64.06845307611835 && lon > -21.90498773338241 && lon < -21.87892185404199)
{
var e;
e = elevHole(lat,lon,64.059302,-21.897598,64.05716,-21.892148,64.058016,-21.893346,0,0,0,0,89,93,0,0,93,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.057217,-21.893547,64.056129,-21.887382,64.056126,-21.889235,0,0,0,0,96,85,0,0,85,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.056457,-21.888332,64.059482,-21.883979,64.058681,-21.886363,0,0,0,0,85,82,0,0,75,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.059143,-21.884453,64.058165,-21.882138,0,0,0,0,0,0,77,0,0,0,81,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.057818,-21.880025,64.056253,-21.886913,64.05783,-21.885288,64.056655,-21.886644,0,0,89,85,85,0,85,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.056348,-21.888437,64.058292,-21.891688,64.057984,-21.889361,0,0,0,0,85,85,0,0,90,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.058454,-21.891498,64.060588,-21.886893,64.05976,-21.887162,0,0,0,0,88,80,0,0,75,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.059753,-21.888622,64.060951,-21.888331,0,0,0,0,0,0,84,0,0,0,75,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.061381,-21.887878,64.059452,-21.893954,64.060209,-21.892409,0,0,0,0,75,78,0,0,80,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.060088,-21.897309,64.062746,-21.892594,64.061874,-21.893984,0,0,0,0,81,62,0,0,70,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.063244,-21.892302,64.060837,-21.897974,64.061824,-21.896564,0,0,0,0,70,70,0,0,76,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.059072,-21.897143,64.062383,-21.902613,64.061046,-21.900031,64.062197,-21.901487,0,0,90,81,81,0,83,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.062325,-21.903885,64.063269,-21.900938,0,0,0,0,0,0,89,0,0,0,69,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.063368,-21.899389,64.066607,-21.893291,64.064542,-21.894861,64.066093,-21.893124,0,0,69,70,71,0,72,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.067408,-21.892561,64.066509,-21.892028,0,0,0,0,0,0,74,0,0,0,74,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.066654,-21.892761,64.064469,-21.890064,64.064619,-21.891264,0,0,0,0,74,72,0,0,75,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.064777,-21.889346,64.062257,-21.890481,64.063085,-21.891482,0,0,0,0,75,70,0,0,71,20,40,40,40,30); if (e > -9999) return e;
e = elevHole(lat,lon,64.062315,-21.889004,64.060096,-21.895428,64.060949,-21.893358,0,0,0,0,75,72,0,0,77,20,40,40,40,30); if (e > -9999) return e;
}
return -1000000;
}


